<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>3.1 Providers 0.3.0</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/configuration.html"><strong>2</strong><span>Configuration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/usage.html"><strong>3</strong><span>Usage</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>Karman is a standardized / extensible interface plugin for dealing with various cloud services including Local and S3.</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../../guide/configuration.html">&lt;&lt; <strong>2</strong><span>Configuration</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                


                <div class="project">
                    <h1>3.1 Providers - Reference Documentation</h1>

                    <p><strong>Authors:</strong> David Estes</p>

                    <p><strong>Version:</strong> 0.3.0</p>

                    
                </div>

                

                

<h2 id="providers">3.1 Providers</h2>
Karman provides a uniform interface in dealing with cloud stored files. It does this starting with the Provider class. 
The Provider class is the starting point and is responsible for storing any credentials needed to interface with your cloud provider as well as instantiating Directories.
By default the core Karman plugin comes with a LocalStorageProvider implementation:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> com.bertramlabs.plugins.karman.local.LocalStorageProvider<p class="paragraph"/>def provider = <span class="java&#45;keyword">new</span> LocalStorageProvider(basePath: '/path/to/store')</pre></div><p class="paragraph"/>As can be seen above the LocalStorageProvider provides an interface to a storage path on your filesystem. The plugin is designed to be very extensible and more providers are in the works such as the <code>karman-aws</code> plugin which will provide the <code>S3StorageProvider</code> for interfacing with S3.<p class="paragraph"/><h3>Getting Directories</h3><p class="paragraph"/>A Provider provides an interface to get or create root directories on the cloud. Most cloud providers dont use full folder trees but rather files with names containing a '/'. In the case of the S3Provider, a Directory can be considered Synonymous with a Bucket.<p class="paragraph"/>There are several ways get interact with directories. For example to get a list of directories we simply do the following:<p class="paragraph"/><div class="code"><pre>provider.getDirectories()</pre></div><p class="paragraph"/>This will return an array of <code>Directory</code> compatible classes.<p class="paragraph"/>Another option is to simply ask for a reference to a directory or bucket directly. This can be done by simply doing:<p class="paragraph"/><div class="code"><pre>provider.getDirectory('mybucket')</pre></div><p class="paragraph"/>This will return a directory object wether it exists or not. You can test for existance via the <code>exists()</code> method or call <code>mkdir()</code> to create the directory (more on this later).<p class="paragraph"/>We also take advantage of some groovy magic to make for some nifty shorthand to get a directory:<p class="paragraph"/><div class="code"><pre>provider&#91;'mybucket'&#93; //equivalent to getDirectory</pre></div>



                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../../guide/configuration.html">&lt;&lt; <strong>2</strong><span>Configuration</span></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Classes</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../../ref/Classes/CloudFile.html">CloudFile</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Classes/Directory.html">Directory</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Classes/StorageProvider.html">StorageProvider</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">LocalStorage</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../../ref/LocalStorage/LocalDirectory.html">LocalDirectory</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/LocalStorage/LocalStorageProvider.html">LocalStorageProvider</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
